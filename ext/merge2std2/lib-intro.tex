%!TEX root = P0896.tex
\newpage
\setcounter{chapter}{19}
\setcounter{table}{14}
\rSec0[library]{Library introduction}

\rSec1[library.general]{General}

\ednote{Insert a new row in Table \ref{tab:library.categories} for the ranges
library (Note that clause numbers in this table agree with the numbers in the
C++ working paper for ease of review; the clauses have not been renumbered to
account for the insertion of the Ranges library or the Concepts library from
P0898.):}

\begin{libsumtabbase}{Library categories}{tab:library.categories}{Clause}{Category}
Clause \cxxref{language.support}  &   &   Language support library    \\
Clause \cxxref{concepts.lib}      &   &   Concepts library            \\
Clause \cxxref{diagnostics}       &   &   Diagnostics library         \\
Clause \cxxref{utilities}         &   &   General utilities library   \\
Clause \cxxref{strings}           &   &   Strings library             \\
Clause \cxxref{localization}      &   &   Localization library        \\
Clause \cxxref{containers}        &   &   Containers library          \\
Clause \cxxref{iterators}         &   &   Iterators library           \\
Clause \cxxref{algorithms}        &   &   Algorithms library          \\
\newtxt{\ref{range}}              &   &   \newtxt{Ranges library}     \\
Clause \cxxref{numerics}          &   &   Numerics library            \\
Clause \cxxref{input.output}      &   &   Input/output library        \\
Clause \cxxref{re}                &   &   Regular expressions library \\
Clause \cxxref{atomics}           &   &   Atomic operations library   \\
Clause \cxxref{thread}            &   &   Thread support library      \\
\end{libsumtabbase}

\ednote{Modify paragraph 9 as follows:}

\setcounter{Paras}{8}
\pnum
The containers (Clause~\cxxref{containers}), iterators (Clause~\cxxref{iterators}),
\oldtxt{and} algorithms (Clause~\cxxref{algorithms})\newtxt{, and ranges (Clause~\ref{range})}
libraries provide a \Cpp{} program with access
to a subset of the most widely used algorithms and data structures.

\setcounter{section}{2}
\rSec1[definitions]{Definitions}

\ednote{Insert the definition of "projection" from the Ranges TS:}

{\color{addclr}
\setcounter{subsection}{17}
\definition{projection}{defns.projection}
\indexdefn{projection}%
\defncontext{function object argument} transformation which an algorithm applies
before inspecting the values of elements

\enterexample
\begin{codeblock}
std::pair<int, const char*> pairs[] = {{2, "foo"}, {1, "bar"}, {0, "baz"}};
std::ranges::sort(pairs, std::less<>{}, [](auto const& p) { return p.first; });
\end{codeblock}
sorts the pairs in increasing order of their \tcode{first} members:
\begin{codeblock}
{{0, "baz"}, {1, "bar"}, {2, "foo"}}
\end{codeblock}
\exitexample
} %% \color{newclr}

\setcounter{section}{4}
\rSec1[requirements]{Library-wide requirements}

\setcounter{subsection}{1}
\setcounter{subsubsection}{1}
\rSec3[headers]{Headers}

\ednote{Add header \tcode{<range>} to Table \ref{tab:cpp.library.headers}:}

\begin{floattable}{\Cpp{} library headers}{tab:cpp.library.headers}
{llll}
\topline
\tcode{<algorithm>} &
\tcode{<fstream>} &
\tcode{<new>} &
\tcode{<string>} \\

\tcode{<any>} &
\tcode{<functional>} &
\tcode{<numeric>} &
\tcode{<string_view>} \\

\tcode{<array>} &
\tcode{<future>} &
\tcode{<optional>} &
\tcode{<strstream>} \\

\tcode{<atomic>} &
\tcode{<initializer_list>} &
\tcode{<ostream>} &
\tcode{<syncstream>} \\

\tcode{<bitset>} &
\tcode{<iomanip>} &
\tcode{<queue>} &
\tcode{<system_error>} \\

\tcode{<charconv>} &
\tcode{<ios>} &
\tcode{<random>} &
\tcode{<thread>} \\

\tcode{<chrono>} &
\tcode{<iosfwd>} &
\added{\tcode{<range>}} &
\tcode{<tuple>} \\

\tcode{<codecvt>} &
\tcode{<iostream>} &
\tcode{<ratio>} &
\tcode{<type_traits>} \\

\tcode{<compare>} &
\tcode{<istream>} &
\tcode{<regex>} &
\tcode{<typeindex>} \\

\tcode{<complex>} &
\tcode{<iterator>} &
\tcode{<scoped_allocator>} &
\tcode{<typeinfo>} \\

\tcode{<concepts>} &
\tcode{<limits>} &
\tcode{<set>} &
\tcode{<unordered_map>} \\

\tcode{<condition_variable>} &
\tcode{<list>} &
\tcode{<shared_mutex>} &
\tcode{<unordered_set>} \\

\tcode{<deque>} &
\tcode{<locale>} &
\tcode{<span>} &
\tcode{<utility>} \\

\tcode{<exception>} &
\tcode{<map>} &
\tcode{<sstream>} &
\tcode{<valarray>} \\

\tcode{<execution>} &
\tcode{<memory>} &
\tcode{<stack>} &
\tcode{<variant>} \\

\tcode{<filesystem>} &
\tcode{<memory_resource>} &
\tcode{<stdexcept>} &
\tcode{<vector>} \\

\tcode{<forward_list>} &
\tcode{<mutex>} &
\tcode{<streambuf>} &
\tcode{<version>} \\
\end{floattable}
