%!TEX root = P0896.tex

\rSec0[containers]{Containers library}

[...]

\setcounter{section}{1}
\rSec1[container.requirements]{Container requirements}
\rSec2[container.requirements.general]{General container requirements}

[...]

\setcounter{Paras}{12}
\pnum
\indextext{container!contiguous}%
A \defn{contiguous container}
is a container \removed{that supports random access iterators\iref{random.access.iterators}
and} whose member types \tcode{iterator} and \tcode{const_iterator}
\changed{are contiguous iterators\iref{iterator.requirements.general}}{meet the
\oldconcept{RandomAccessIterator} requirements\iref{random.access.iterators} and
model \libconcept{ContiguousIterator}}\iref{iterator.concept.contiguous}.

[...]

\setcounter{section}{6}
\rSec1[views]{Views}

[...]

\setcounter{subsection}{2}
\rSec2[views.span]{Class template \tcode{span}}
\rSec3[span.overview]{Overview}

[...]

\setcounter{Paras}{1}
\pnum
The iterator types \tcode{span::iterator} and \tcode{span::const_iterator}
\changed{are random access iterators\iref{random.access.iterators},
contiguous iterators\iref{iterator.requirements.general}, and}{each
model \libconcept{ContiguousIterator}\iref{iterator.concept.contiguous}, meet
the \oldconcept{RandomAccessIterator} requirements\iref{random.access.iterators},
and meet the requirements for}
constexpr iterators\iref{iterator.requirements.general}.
All requirements on container iterators\iref{container.requirements} apply to
\tcode{span::iterator} and \tcode{span::const_iterator} as well.

\pnum
All member functions of \tcode{span} have constant time complexity.

\indexlibrary{\idxcode{span}}%
\begin{codeblock}
namespace std {
  template<class ElementType, ptrdiff_t Extent = dynamic_extent>
  class span {
  public:
    [...]

    // \cxxref{span.iterators}, iterator support
    constexpr iterator begin() const noexcept;
    constexpr iterator end() const noexcept;
    constexpr const_iterator cbegin() const noexcept;
    constexpr const_iterator cend() const noexcept;
    constexpr reverse_iterator rbegin() const noexcept;
    constexpr reverse_iterator rend() const noexcept;
    constexpr const_reverse_iterator crbegin() const noexcept;
    constexpr const_reverse_iterator crend() const noexcept;

    @\added{friend constexpr iterator begin(span s) noexcept \{ return s.begin(); \}}@
    @\added{friend constexpr iterator end(span s) noexcept \{ return s.end(); \}}@

    [...]
  };
}
\end{codeblock}

[...]
